<p id="notice"><%= notice %></p>
<%= link_to 'New Post', new_post_path %>

<h1>Posts</h1>
<div class="row">
  <div class="col-md-10"> 
    <div class="row">
      <% @posts.each do |post| %>
          <div class="col-sm-12 col-md-6 mb-5">
            <div class="card border-0 shadow-soft h-100">
              <div class="card-body p-5">
                <div class="blog-index-title">
                  <%= truncate(post.title, length:40, separator: ' ') %>
                </div>
                <p class="mb-0"> <%= truncate(strip_tags(post.body.to_s), length: 200, separator: ' ') %> </p>
                <span class="blog-post-meta"> Published <%= distance_of_time_in_words(post.updated_at , Time.now) %> in <span class="topic_badge"> <%= link_to post.topic.title, topic_path(post.topic) %> </span></span>

                <% if current_user.present? %>
                  <div class="btn-group">
                    <%= link_to 'Edit', edit_post_path(post), class: "btn btn-primary btn-sm" %>
                    <%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-primary btn-sm" %>
                  </div>
                <% end %>
              </div>
              <div class="card-footer bg-light border-0 py-4 px-5">
                <%= link_to post do %>
                  Continue reading <%= image_tag("/assets/next.svg") %> 
                <% end %>  
              </div>
            </div>
      </div>
      <% end %>
    </div>
  </div>
  <%= render "static/blogsidebar" %>
</div>


